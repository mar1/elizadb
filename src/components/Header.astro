---
import DarkMode from "./DarkMode.astro";
import { getAllCharacters } from "../utils/characters";

const characters = await getAllCharacters();
const characterCount = characters.filter((char) => char != null).length;
---

<header class="container mx-auto px-4 py-6 flex justify-between items-center">
    <div>
        <h1 class="text-4xl font-bold">
            <a
                href="https://mar1.github.io/elizadb/"
                class="hover:text-gray-700 dark:hover:text-gray-300"
            >
                ğŸ¤– Eliza Characters Database
            </a>
        </h1>
        <p class="text-gray-600 dark:text-gray-400 mt-1">
            {characterCount} Characters available
        </p>
    </div>
    <div class="flex items-center gap-4">
        <a
            href="https://github.com/mar1/elizadb/new/main/src/data/characters?filename=new-character.json&value=TEMPLATE"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors"
        >
            <svg
                class="w-5 h-5 mr-2"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M12 4v16m8-8H4"></path>
            </svg>
            Add Character
        </a>
        <DarkMode />
    </div>
</header>
